<div class="main">
  <section>
    <header>
      <h2>Do a search for...</h2>

      <button (click)="search(searchTerm, 1, totalCount)" class="tab">Series</button>
      <button (click)="search(searchTerm, 1, totalCount)" class="tab active" disabled>Stories</button>

      <span class="pages">
        <button *ngIf="totalCount && pages?.length > 1" (click)="search(searchTerm, 1, totalCount)" class="btn-link">View All {{totalCount}} &raquo;</button>
        <button disabled *ngIf="totalCount && pages?.length === 1" class="btn-link">Viewing all {{totalCount}}</button>
      </span>

      <span *ngIf="pages?.length > 1" class="pages">
        <button [disabled]="currentPage === 1" (click)="search(searchTerm, currentPage - 1)" class="btn-link">&lt;</button>
        <button *ngFor="let page of pages | slice:pagesBegin:pagesEnd;"
                [disabled]="page === currentPage" [ngClass]="{'active': page === currentPage}"
                (click)="search(searchTerm, page)"
                class="btn-link">{{page}}</button>
        <button disabled *ngIf="pages.length > showNumPages" class="btn-link">of {{pages.length}}</button>
        <button [disabled]="currentPage === pages?.length" (click)="search(searchTerm, currentPage + 1)" class="btn-link">&gt;</button>
      </span>
    </header>
    <publish-spinner *ngIf="!isLoaded"></publish-spinner>
    <div *ngIf="noStories">
      <h1>No Stories</h1>
    </div>
    <div *ngIf="!noStories">
      <div class="story-list">
        <search-story *ngFor="let s of stories" [story]="s"></search-story>
        <div *ngFor="let l of storyLoaders" class="story"><publish-spinner></publish-spinner></div>
      </div>
    </div>
  </section>
</div>
