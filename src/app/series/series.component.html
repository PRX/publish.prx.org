<publish-hero blue=true>
  <h1 class="hero-title" *ngIf="id">Edit Series</h1>
  <h1 class="hero-title" *ngIf="!id">Create Series</h1>
  <div class="hero-info" *ngIf="series">
    <h2>{{series.title || '(Untitled)'}}</h2>
    <p *ngIf="series?.isNew">Not saved</p>
    <p *ngIf="!series?.isNew">Last modified {{series.updatedAt | timeago}}</p>
  </div>
  <div class="hero-actions" *ngIf="series">

    <template [ngIf]="series.isNew">
      <publish-button [model]="series" plain=1 working=0 disabled=0 (click)="discard()">Discard</publish-button>
      <publish-button [model]="series" visible=1 orange=1 (click)="save()">Create</publish-button>
    </template>

    <template [ngIf]="!series.isNew">
      <publish-button [model]="series" plain=1 working=0 disabled=0 (click)="discard()">Discard</publish-button>
      <publish-button [model]="series" (click)="save()">Save
        <div *ngIf="series.invalid()" class="invalid-tip">
          <h4>Invalid changes</h4>
          <p>Correct them before saving</p>
        </div>
      </publish-button>
    </template>

  </div>
</publish-hero>

<publish-tabs [model]="series">

  <a routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}"
    [routerLink]="['/series', id]">Basic Info</a>
  <a routerLinkActive="active" [routerLink]="['/series', id, 'image']">Cover Image</a>
  <a routerLinkActive="active" [routerLink]="['/series', id, 'templates']">Audio Templates</a>
  <a routerLinkActive="active" [routerLink]="['/series', id, 'advanced']">Advanced</a>

</publish-tabs>
